<h1>Screens</h1>

<table> 
  <thead>
    <tr> 
      <th>Screen Name</th>  
      <th>Total Seats</th>   
      <th>Status</th>  
      <th>Start Time</th> 
      <th>End Time</th>      
      <th colspan="3">Actions</th>
    </tr>
  </thead>
  <tbody>
    <% @screens.each do |screen| %>
      <tr> 
        <td><%= screen.screen_name %></td> 
        <td><%= screen.total_seats%></td> 
        <td><%= screen.status %></td>  
        <td>
          <% screen.slots.each do |slot| %>
            <%= slot.start_time&.strftime("%I:%M %p")%><br>
          <% end %>
        </td>  
        <td>
          <% screen.slots.each do |slot| %>
            <%= slot.end_time&.strftime("%I:%M %p")%><br>
          <% end %>
        </td>
        <td><%= link_to  screen do%>  
        <i class='bx bx-show text-primary' ></i> 
        <% end %>
        </td>  
        
        <% if policy(screen).edit? %>
          <td><%= link_to  edit_screen_path(screen) do%> 
          <i class='bx bx-edit-alt text-info'></i> 
          <% end %>  
          </td> 
        <% end %>
        
        <% if policy(screen).destroy? %> 
          <td><%= link_to  screen, method: :delete, data: { confirm: 'Are you sure?' } do%>  
          <i class='bx bx-message-alt-x text-primary' ></i>  
          <% end %>
          </td> 
        <% end %>  
      </tr>
    <% end %>
  </tbody>
</table>

<br>
<%= link_to 'New Screen', new_screen_path %>


